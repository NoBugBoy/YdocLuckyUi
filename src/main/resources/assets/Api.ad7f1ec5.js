import{i as e,r as a,b as l,d as t,n as u,p as n,w as s,e as i,f as r,a1 as o,a2 as d,a3 as p,I as f,J as c,M as v,a4 as m,a5 as y,m as _,a6 as g,a7 as h,a8 as b,a as k,a9 as x,j as C,Z as w,a0 as z,q as O,aa as j,B as S,l as J,G as N,Q as $,ab as q,ac as D,ad as U,D as V,ae as R,af as Y,ag as B,ah as T}from"./vendor.780a5bac.js";import{a as E}from"./index.fcdf8282.js";const M={key:0},P={key:1},H={key:0},L={key:2},G={props:{value:String},setup(g){const h=g;let b=e("g").value.data,k=a([]);if(null!=h.value.$ref){let e=b.definitions[h.value.$ref.replace("#/definitions/","")];k.value=null!=e?e.properties:[]}else k.value=h.value.items;return(e,a)=>(l(!0),t(_,null,u(r(k),((e,a,u)=>(l(),n(r(o),null,{default:s((()=>[i(r(y),{title:a,name:a},{default:s((()=>["items"in e&&"$ref"in e.items?(l(),t("div",M,[i(r(o),null,{default:s((()=>[i(G,{value:e.items},null,8,["value"])])),_:2},1024)])):"type"in e?(l(),t("div",P,[i(r(d),null,{default:s((()=>[i(r(p),{type:"success"},{default:s((()=>[f(c(e.type),1)])),_:2},1024),"array"!=e.type?(l(),t("div",H,[i(r(p),{type:"info"},{default:s((()=>[f(c("description"in e&&null==e.description?e.items.description:null==e.description?"":e.description),1)])),_:2},1024)])):v("",!0)])),_:2},1024),i(r(m))])):(l(),t("div",L,[i(r(o),null,{default:s((()=>[i(G,{value:e},null,8,["value"])])),_:2},1024)]))])),_:2},1032,["title","name"])])),_:2},1024)))),256))}},I=S("thead",null,[S("tr",null,[S("th",null,"参数名称"),S("th",null,"参数说明"),S("th",null,"请求类型"),S("th",null,"是否必须"),S("th",null,"数据类型")])],-1),Q={key:0},Z={key:1},A={key:2},F={key:3},K=f("格式化"),W=f("折叠"),X=f("缩小"),ee=f("放大"),ae={key:0},le={key:0},te={key:1},ue=f("关闭发送后自动保存为测试用例"),ne=f("开启点击发送后保存为测试用例"),se=f("发送"),ie=S("thead",null,[S("tr",null,[S("th",null,"是否启用"),S("th",null,"参数类型"),S("th",null,"参数名称"),S("th",null,"参数值")])],-1),re={key:0},oe=f("格式化"),de=f("折叠"),pe=f("缩小"),fe=f("放大"),ce={style:{display:"flex"}},ve=f("格式化"),me=f("折叠 "),ye=f("缩小"),_e=f("放大"),ge={key:0,style:{display:"flex","justify-content":"flex-end","margin-left":"auto"}},he={style:{"font-size":"16px"}},be={style:{"font-size":"16px"}},ke={setup(M){const P=g();let H=e("g"),L=a(!1),ke=a(""),xe=a(!0),Ce=a("application/json"),we=a([]),ze=a("");we.value=[{label:"application/json",value:"application/json"},{label:"x-www-form-urlencoded",value:"x-www-form-urlencoded"},{label:"form-data",value:"form-data"}];let Oe=a({});Oe.value=H.value.theme;let je=H.value.data;const Se="这似乎不是一个JSON吧 朋友？";let Je=()=>{try{ke.value=JSON.stringify(JSON.parse(ke.value),null,2)}catch(e){P.warning(Se)}},Ne=()=>{try{ke.value=JSON.stringify(JSON.parse(ke.value),null,0)}catch(e){P.warning(Se)}},$e=()=>{try{ze.value=JSON.stringify(JSON.parse(ze.value),null,2)}catch(e){}},qe=()=>{try{ze.value=JSON.stringify(JSON.parse(ze.value),null,0)}catch(e){}},De=()=>{Ke.value<=12?P.warning("不能再缩小了"):Ke.value=Ke.value-1},Ue=()=>{Ke.value>=20?P.warning("不能再放大了"):Ke.value=Ke.value+1},Ve=h();b((()=>H.value.theme),(()=>{setTimeout((()=>{xe.vlaue=!1,Oe.value=H.value.theme,xe.vlaue=!0}),160)}));let Re=a(""),Ye=a(""),Be=a(""),Te=a(""),Ee=a(""),Me=a("Params"),Pe=a([]),He=a(null),Le=a([]),Ge=e=>{if("$ref"in e||"items"in e&&"$ref"in e.items){let a="";a="$ref"in e?e.$ref.replace("#/definitions/",""):e.items.$ref.replace("#/definitions/","");let l=je.definitions[a];if(null==l)return{};let t=l.properties,u={},n=Object.keys(t);for(let e in n)u[n[e]]=Ge(t[n[e]]);return u}return Qe(e.type)},Ie=e=>{Me.value=e},Qe=e=>{switch(e.toLowerCase()){case"array":return[];case"integer":case"number":return 0;case"string":return"";case"object":return{};case"string(date-time)":return B().format("YYYY-MM-DD HH:mm:ss");default:return""}},Ze=()=>{let e={"Content-Type":Ce.value},a={};if(Pe.value.forEach((l=>{l.active&&("header"==l.in?e[l.name]=l.value:"query"==l.in&&(a[l.name]=l.value))})),"get"==Be.value.toLowerCase()){E({url:Ye.value,method:Be.value.toLowerCase(),data:a,config:{headers:e}}).then((e=>{Ee.value=new Date-e.config.startTime,Te.value=e.status,ze.value=JSON.stringify(e.data),$e()})).catch((e=>{Te.value=e.response.status,Ee.value=new Date-e.response.config.startTime,ze.value=Ae(e.response),$e()}))}else{E({url:Ye.value,method:Be.value.toLowerCase(),data:ke.value,config:{headers:e,params:a}}).then((e=>{ze.value=JSON.stringify(e.data),Te.value=e.status,Ee.value=new Date-e.config.startTime,$e()})).catch((e=>{Te.value=e.response.status,Ee.value=new Date-e.response.config.startTime,ze.value=Ae(e.response),$e()}))}Me.value="ResponseBody"},Ae=e=>{let a={};return a.timestamp=B().format("YYYY-MM-DD HH:mm:ss"),a.code=e.data.status,a.error=e.data.error,a.path=e.data.path,JSON.stringify(a)},Fe=!1,Ke=a(12),We=a("");return b((()=>Ve.params),(()=>{const e=Ve.params.data;if(Te.value="",Ee.value="",ze.value="",ke.value="",Me.value="Params",null!=e&&"identity"!=e){const l=JSON.parse(e);Re.value=l.summary,Ye.value=l.url,Be.value=l.method.toUpperCase(),Pe.value=[];for(let e in l.parameters)"body"!=l.parameters[e].in?(l.parameters[e].active=!0,l.parameters[e].value=a(""),Pe.value.push(l.parameters[e])):He.vlaue=l.parameters[e];if("GET"==Be.value)L.value=!1;else{L.value=!0;let e=He.vlaue.schema.$ref,a=je.definitions[e.replace("#/definitions/","")],l=Object.keys(a.properties),t={};l.forEach((e=>{a.properties[e].key=e,t[e]=Ge(a.properties[e])})),ke.value=JSON.stringify(t)}let t=l.responses[200].schema;if("items"in t){let e=je.definitions[t.items.$ref.replace("#/definitions/","")];Le.value=e.properties;let a=Object.keys(e.properties),l={};a.forEach((a=>{e.properties[a].key=a,l[a]=Ge(e.properties[a])})),We.value=l}else if(null!=t.$ref){let e=je.definitions[t.$ref.replace("#/definitions/","")];Le.value=e.properties;let a=Object.keys(e.properties),l={};a.forEach((a=>{e.properties[a].key=a,l[a]=Ge(e.properties[a])})),We.value=l}""!=ke.value&&Je()}}),{immediate:!0}),(e,a)=>{const g=k("b-ace-editor"),h=k("json-viewer");return l(),n(r(x),{style:{margin:"10px"}},{default:s((()=>[i(r(C),{"default-value":"doc",size:"large"},{default:s((()=>[i(r(O),{name:"doc",tab:"文档"},{default:s((()=>[i(r(x),{title:"Documentation",style:{margin:"10px"}},{default:s((()=>[i(r(d),{vertical:""},{default:s((()=>[i(r(w),null,{default:s((()=>[i(r(z),{label:"接口描述",value:r(Re)},null,8,["value"])])),_:1}),i(r(w),null,{default:s((()=>[i(r(z),{label:"请求方式",value:r(Be)},null,8,["value"])])),_:1}),i(r(w),null,{default:s((()=>[i(r(z),{label:"接口地址",value:r(Ye)},null,8,["value"])])),_:1})])),_:1})])),_:1}),i(r(x),{style:{margin:"10px"}},{default:s((()=>[i(r(C),{"default-value":"request"},{default:s((()=>[i(r(O),{name:"request",tab:"请求参数"},{default:s((()=>[i(r(d),{vertical:"",size:12},{default:s((()=>[i(r(x),null,{default:s((()=>[i(r(j),{"single-line":!1},{default:s((()=>[I,S("tbody",null,[(l(!0),t(_,null,u(r(Pe),(e=>(l(),t("tr",null,[S("td",null,c(e.name),1),S("td",null,c(e.description),1),"header"==e.in?(l(),t("td",Q,[i(r(p),{type:"success",size:"medium",round:""},{default:s((()=>[f(c(e.in),1)])),_:2},1024)])):(l(),t("td",Z,[i(r(p),{type:"info",size:"medium",round:""},{default:s((()=>[f(c(e.in),1)])),_:2},1024)])),e.required?(l(),t("td",A,[i(r(p),{type:"error",size:"medium",round:""},{default:s((()=>[f(c(e.required),1)])),_:2},1024)])):(l(),t("td",F,[i(r(p),{type:"info",size:"medium",round:""},{default:s((()=>[f(c(e.required),1)])),_:2},1024)])),S("td",null,c(e.type),1)])))),256))])])),_:1})])),_:1}),r(L)&&r(xe)?(l(),n(r(x),{key:0,title:"RequestBody"},{default:s((()=>[i(r(J),{type:"success",style:{"margin-bottom":"10px"},onClick:r(Je)},{default:s((()=>[K])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(Ne)},{default:s((()=>[W])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(De)},{default:s((()=>[X])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(Ue)},{default:s((()=>[ee])),_:1},8,["onClick"]),i(g,{modelValue:r(ke),"onUpdate:modelValue":a[0]||(a[0]=e=>N(ke)?ke.value=e:ke=e),lang:"json",width:"100%",height:"600",theme:0==r(Oe)?"vibrant_ink":"github",readonly:r(Fe),"font-size":r(Ke)},null,8,["modelValue","theme","readonly","font-size"])])),_:1})):v("",!0)])),_:1})])),_:1}),i(r(O),{name:"signup",tab:"返回值"},{default:s((()=>[i(r(o),{style:{"font-size":"18px"}},{default:s((()=>[(l(!0),t(_,null,u(r(Le),((e,a,u)=>(l(),t("div",null,["type"in e?(l(),t("div",ae,[i(r(y),{title:a,name:a},{default:s((()=>[i(r(d),null,{default:s((()=>[i(r(p),{type:"success"},{default:s((()=>[f(c(e.type),1)])),_:2},1024),"array"!=e.type?(l(),t("div",le,[i(r(p),{type:"info"},{default:s((()=>[f(c("description"in e&&null==e.description?e.items.description:null==e.description?"":e.description),1)])),_:2},1024)])):v("",!0)])),_:2},1024)])),_:2},1032,["title","name"])])):(l(),t("div",te,[i(r(o),null,{default:s((()=>[i(r(y),{title:a,name:a},{default:s((()=>[i(G,{value:e},null,8,["value"])])),_:2},1032,["title","name"])])),_:2},1024)]))])))),256))])),_:1})])),_:1}),i(r(O),{name:"show",tab:"返回值示例"},{default:s((()=>[i(h,{theme:r($),value:r(We),style:{"font-size":"16px"},copyable:"",boxed:"",sort:""},null,8,["theme","value"])])),_:1})])),_:1})])),_:1})])),_:1}),i(r(O),{name:"run",tab:"运行"},{default:s((()=>[i(r(x),{title:"Send Request"},{default:s((()=>[i(r(d),{vertical:"",size:22},{default:s((()=>[i(r(q),null,{checked:s((()=>[ue])),unchecked:s((()=>[ne])),_:1}),i(r(D),{size:"large"},{default:s((()=>[i(r(U),null,{default:s((()=>[i(r(V),{type:"success"},{default:s((()=>[f(c(r(Be)),1)])),_:1})])),_:1}),i(r(R),{disabled:!0,style:{width:"50%"},value:r(Ye),"onUpdate:value":a[1]||(a[1]=e=>N(Ye)?Ye.value=e:Ye=e)},null,8,["value"]),i(r(J),{onClick:r(Ze),type:"success",ghost:""},{default:s((()=>[se])),_:1},8,["onClick"])])),_:1}),i(r(Y),{value:r(Ce),"onUpdate:value":a[2]||(a[2]=e=>N(Ce)?Ce.value=e:Ce=e),name:"radiobuttongroup1"},{default:s((()=>[(l(!0),t(_,null,u(r(we),(e=>(l(),n(r(T),{key:e.value,value:e.value},{default:s((()=>[f(c(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"]),i(r(C),{"default-value":"Params",value:r(Me),"on-update:value":r(Ie)},{default:s((()=>[i(r(O),{name:"Params",tab:"Params"},{default:s((()=>[i(r(j),{bordered:!1,"single-line":!1},{default:s((()=>[ie,S("tbody",null,[(l(!0),t(_,null,u(r(Pe),(e=>(l(),t("tr",null,[S("td",null,[i(r(q),{value:e.active,"onUpdate:value":a=>e.active=a},null,8,["value","onUpdate:value"])]),S("td",null,[i(r(p),{type:"success"},{default:s((()=>[f(c(e.type)+"("+c(e.in)+")",1)])),_:2},1024)]),S("td",null,[i(r(p),{type:"info"},{default:s((()=>[f(c(e.name),1)])),_:2},1024)]),S("td",null,[i(r(R),{value:e.value,"onUpdate:value":a=>e.value=a,type:"text",size:"medium",placeholder:"请填写"+e.name,disabled:!e.active,round:"",clearable:""},null,8,["value","onUpdate:value","placeholder","disabled"])])])))),256))])])),_:1})])),_:1}),i(r(O),{name:"RequestBody",tab:"RequestBody"},{default:s((()=>[r(xe)?(l(),t("div",re,[i(r(J),{type:"success",style:{"margin-bottom":"10px"},onClick:r(Je)},{default:s((()=>[oe])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(Ne)},{default:s((()=>[de])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(De)},{default:s((()=>[pe])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(Ue)},{default:s((()=>[fe])),_:1},8,["onClick"]),i(g,{modelValue:r(ke),"onUpdate:modelValue":a[3]||(a[3]=e=>N(ke)?ke.value=e:ke=e),lang:"json",width:"100%",height:"600",theme:0==r(Oe)?"vibrant_ink":"github",readonly:r(Fe),"font-size":r(Ke)},null,8,["modelValue","theme","readonly","font-size"])])):v("",!0)])),_:1}),i(r(O),{name:"ResponseBody",tab:"ResponseBody"},{default:s((()=>[i(r(x),{title:"Response"},{default:s((()=>[S("div",ce,[i(r(J),{type:"success",style:{"margin-bottom":"10px"},onClick:r($e)},{default:s((()=>[ve])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(qe)},{default:s((()=>[me])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(De)},{default:s((()=>[ye])),_:1},8,["onClick"]),i(r(J),{type:"success",style:{"margin-bottom":"10px","margin-left":"10px"},onClick:r(Ue)},{default:s((()=>[_e])),_:1},8,["onClick"]),""!=r(Te)?(l(),t("span",ge,[S("span",he,"状态码: "+c(r(Te)),1),i(r(m),{vertical:""}),S("span",be,"耗时: "+c(r(Ee))+"ms ",1)])):v("",!0)]),i(g,{modelValue:r(ze),"onUpdate:modelValue":a[4]||(a[4]=e=>N(ze)?ze.value=e:ze=e),lang:"json",width:"100%",height:"600",theme:0==r(Oe)?"vibrant_ink":"github",readonly:r(Fe),"font-size":r(Ke)},null,8,["modelValue","theme","readonly","font-size"])])),_:1})])),_:1})])),_:1},8,["value","on-update:value"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}};export{ke as default};
