import{r as e,u as a,o as t,j as l,e as s,y as r,w as i,a3 as o,W as u,f as n,g as d,ao as c,q as p,ap as f,t as g,v,x as y,P as m,aq as k,A as S,b as h,al as _,ar as x,as as C,L as b,Q as N,aa as I}from"./vendor.55fdba86.js";import{C as J}from"./index.f497f44c.js";const O={key:0},j=S("点我清除全部用例"),q=S(" 你确定要全部清理吗，我会把LocalStorage全部干掉哦。 "),E={style:{"font-size":"18px"}},P={key:1},w={setup(S){const w=J.radioConsts;let z=e([]),L=e([{title:"名称",key:"title"},{title:"状态",key:"status",render(e){let a=w.find((a=>a.value==e.status));return h(_,{type:"success"==a.value?"success":"error"==a.value?"error":"warning"},{default:()=>a.label})}},{title:"创建时间",key:"time"},{title:"请求参数",key:"param",render:e=>(e.param.forEach((e=>{delete e.in,delete e.type,delete e.required,delete e.active})),JSON.stringify(e.param))},{title:"请求体",key:"body"},{title:"操作",key:"action",render:e=>h(g,{type:"primary",onClick:()=>A(e)},{default:()=>"删除"})}]),W=e(!0);a();let A=e=>{let a=localStorage.getItem(e.group),t=JSON.parse(a);for(var l=0;l<t.length;l++)if(t[l].title==e.title){1==t.length?localStorage.removeItem(e.group):(t.splice(l,1),localStorage.setItem(e.group,JSON.stringify(t)));break}B()},Q=()=>{localStorage.clear(),B()},B=()=>{W.vlaue=!1,z.value=[];for(var e=0;e<localStorage.length;e++){var a=localStorage.key(e);if(a.startsWith("lucky")){let e={},t=JSON.parse(localStorage.getItem(a));t.forEach((e=>{e.group=a})),e.key=a.split("_")[1],e.value=t,z.value.push(e)}}W.vlaue=!0};return t((()=>{B()})),(e,a)=>l(W)?(s(),r(l(o),{key:0,title:"请求用例管理"},{default:i((()=>[l(z).length>0?(s(),n("div",O,[d(l(m),{vertical:"",size:15},{default:i((()=>[d(l(c),{"positive-text":"好的,没关系.","negative-text":"Emmm,算了吧.",onPositiveClick:l(Q),onNegativeClick:a[0]||(a[0]=()=>{})},{icon:i((()=>[d(l(p),null,{default:i((()=>[d(l(f))])),_:1})])),trigger:i((()=>[d(l(g),{dashed:"",type:"primary"},{default:i((()=>[j])),_:1})])),default:i((()=>[q])),_:1},8,["onPositiveClick"]),(s(!0),n(v,null,y(l(z),((e,a)=>(s(),n("div",null,[d(l(x),null,{default:i((()=>[d(l(C),{name:"index"},{header:i((()=>[b("span",E,N(e.key),1)])),default:i((()=>[d(l(I),{columns:l(L),data:e.value},null,8,["columns","data"])])),_:2},1024)])),_:2},1024)])))),256))])),_:1})])):(s(),n("div",P,[d(l(k),{status:"404",title:"好像没有多余的请求用例了",description:"去创建几个试试吧"})]))])),_:1})):u("",!0)}};export{w as default};
