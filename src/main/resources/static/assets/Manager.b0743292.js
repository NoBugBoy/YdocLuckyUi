import{r as e,u as a,o as l,f as t,b as r,s,w as o,$ as i,S as u,d as n,e as d,am as v,m as c,an as p,n as g,p as y,q as m,J as f,ao as k,L as b,h as S,ai as h,ap as _,aq as x,E as J,M as N,a8 as C}from"./vendor.9b7543cb.js";const E={key:0},I=b("点我清除全部用例"),O=b(" 你确定要全部清理吗，我会把LocalStorage全部干掉哦。 "),q={style:{"font-size":"18px"}},w={key:1},z={setup(b){const z=[{value:"success",label:"成功"},{value:"error",label:"失败"},{value:"error-retry",label:"失败待重试"},{value:"retry",label:"待重试"},{value:"no-auth",label:"无权限"},{value:"no-data",label:"无响应数据"},{value:"no-some-data",label:"响应缺少部分数据"},{value:"big-some-data",label:"返回了多余数据"},{value:"no-format",label:"响应参数未驼峰命名"},{value:"type-error",label:"参数类型错误"}];let L=e([]),P=e([{title:"名称",key:"title"},{title:"状态",key:"status",render(e){let a=z.find((a=>a.value==e.status));return S(h,{type:"success"==a.value?"success":"error"==a.value?"error":"warning"},{default:()=>a.label})}},{title:"创建时间",key:"time"},{title:"请求参数",key:"param",render:e=>(e.param.forEach((e=>{delete e.in,delete e.type,delete e.required,delete e.active})),JSON.stringify(e.param))},{title:"请求体",key:"body"},{title:"操作",key:"action",render:e=>S(g,{type:"primary",onClick:()=>M(e)},{default:()=>"删除"})}]),j=e(!0);a();let M=e=>{let a=localStorage.getItem(e.group),l=JSON.parse(a);for(var t=0;t<l.length;t++)if(l[t].title==e.title){1==l.length?localStorage.removeItem(e.group):(l.splice(t,1),localStorage.setItem(e.group,JSON.stringify(l)));break}$()},W=()=>{localStorage.clear(),$()},$=()=>{j.vlaue=!1,L.value=[];for(var e=0;e<localStorage.length;e++){var a=localStorage.key(e);if(a.startsWith("lucky")){let e={},l=JSON.parse(localStorage.getItem(a));l.forEach((e=>{e.group=a})),e.key=a.split("_")[1],e.value=l,L.value.push(e)}}j.vlaue=!0};return l((()=>{$()})),(e,a)=>t(j)?(r(),s(t(i),{key:0,title:"请求用例管理"},{default:o((()=>[t(L).length>0?(r(),n("div",E,[d(t(f),{vertical:"",size:15},{default:o((()=>[d(t(v),{"positive-text":"好的,没关系.","negative-text":"Emmm,算了吧.",onPositiveClick:t(W),onNegativeClick:a[0]||(a[0]=()=>{})},{icon:o((()=>[d(t(c),null,{default:o((()=>[d(t(p))])),_:1})])),trigger:o((()=>[d(t(g),{dashed:"",type:"primary"},{default:o((()=>[I])),_:1})])),default:o((()=>[O])),_:1},8,["onPositiveClick"]),(r(!0),n(y,null,m(t(L),((e,a)=>(r(),n("div",null,[d(t(_),null,{default:o((()=>[d(t(x),{name:"index"},{header:o((()=>[J("span",q,N(e.key),1)])),default:o((()=>[d(t(C),{columns:t(P),data:e.value},null,8,["columns","data"])])),_:2},1024)])),_:2},1024)])))),256))])),_:1})])):(r(),n("div",w,[d(t(k),{status:"404",title:"好像没有多余的请求用例了",description:"去创建几个试试吧"})]))])),_:1})):u("",!0)}};export{z as default};
