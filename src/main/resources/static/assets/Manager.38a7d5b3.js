import{r as e,u as a,o as t,e as l,y as s,w as r,j as i,P as o,a3 as u,f as d,g as n,ao as c,q as p,ap as g,t as y,v as f,x as v,aq as m,W as k,A as S,b as h,ar as _,as as x,L as b,Q as I,aa as J}from"./vendor.55fdba86.js";const N={key:0},O=S("点我清除全部用例"),q=S(" 你确定要全部清理吗，我会把LocalStorage全部干掉哦。 "),C={style:{"font-size":"18px"}},E={key:1},P={setup(S){let P=e([]),j=e([{title:"名称",key:"title"},{title:"状态",key:"status"},{title:"创建时间",key:"time"},{title:"请求参数",key:"param",render:e=>(e.param.forEach((e=>{delete e.in,delete e.type,delete e.required,delete e.active})),JSON.stringify(e.param))},{title:"请求体",key:"body"},{title:"操作",key:"action",render:e=>h(y,{type:"primary",onClick:()=>L(e)},{default:()=>"删除"})}]),z=e(!0);a();let L=e=>{let a=localStorage.getItem(e.group),t=JSON.parse(a);for(var l=0;l<t.length;l++)if(t[l].title==e.title){1==t.length?localStorage.removeItem(e.group):(t.splice(l,1),localStorage.setItem(e.group,JSON.stringify(t)));break}w()},W=()=>{localStorage.clear(),w()},w=()=>{z.vlaue=!1,P.value=[];for(var e=0;e<localStorage.length;e++){var a=localStorage.key(e);if(a.startsWith("lucky")){let e={},t=JSON.parse(localStorage.getItem(a));t.forEach((e=>{e.group=a})),e.key=a.split("_")[1],e.value=t,P.value.push(e)}}z.vlaue=!0};return t((()=>{w()})),(e,a)=>(l(),s(i(o),{vertical:""},{default:r((()=>[i(z)?(l(),s(i(u),{key:0,title:"请求用例管理"},{default:r((()=>[i(P).length>0?(l(),d("div",N,[n(i(o),{vertical:"",size:15},{default:r((()=>[n(i(c),{"positive-text":"好的,没关系.","negative-text":"Emmm,算了吧.",onPositiveClick:i(W)},{icon:r((()=>[n(i(p),null,{default:r((()=>[n(i(g))])),_:1})])),trigger:r((()=>[n(i(y),{dashed:"",type:"primary"},{default:r((()=>[O])),_:1})])),default:r((()=>[q])),_:1},8,["onPositiveClick"]),(l(!0),d(f,null,v(i(P),((e,a)=>(l(),d("div",null,[n(i(_),null,{default:r((()=>[n(i(x),{name:"index"},{header:r((()=>[b("span",C,I(e.key),1)])),default:r((()=>[n(i(J),{columns:i(j),data:e.value},null,8,["columns","data"])])),_:2},1024)])),_:2},1024)])))),256))])),_:1})])):(l(),d("div",E,[n(i(m),{status:"404",title:"好像没有多余的请求用例了",description:"去创建几个试试吧"})]))])),_:1})):k("",!0)])),_:1}))}};export{P as default};
